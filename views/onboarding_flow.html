<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Onboarding Flow Diagram</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; 
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;

        const OnboardingFlow = () => {
            const [hoveredStep, setHoveredStep] = useState(null);

            const styles = {
                container: {
                    maxWidth: '1200px',
                    margin: '0 auto',
                },
                title: {
                    textAlign: 'center',
                    color: '#fff',
                    fontSize: '28px',
                    fontWeight: '700',
                    marginBottom: '10px',
                },
                subtitle: {
                    textAlign: 'center',
                    color: '#8892b0',
                    fontSize: '14px',
                    marginBottom: '40px',
                },
                flowContainer: {
                    display: 'flex',
                    flexDirection: 'column',
                    gap: '20px',
                },
                stepRow: {
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    gap: '15px',
                },
                step: {
                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                    borderRadius: '12px',
                    padding: '20px 30px',
                    color: '#fff',
                    minWidth: '200px',
                    textAlign: 'center',
                    boxShadow: '0 10px 30px rgba(102, 126, 234, 0.3)',
                    cursor: 'pointer',
                    transition: 'all 0.3s ease',
                },
                stepHovered: {
                    transform: 'translateY(-5px)',
                    boxShadow: '0 15px 40px rgba(102, 126, 234, 0.5)',
                },
                stepNumber: {
                    background: 'rgba(255,255,255,0.2)',
                    borderRadius: '50%',
                    width: '30px',
                    height: '30px',
                    display: 'inline-flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    fontSize: '14px',
                    fontWeight: '700',
                    marginBottom: '10px',
                },
                stepTitle: {
                    fontSize: '16px',
                    fontWeight: '600',
                    marginBottom: '5px',
                },
                stepDesc: {
                    fontSize: '12px',
                    opacity: 0.8,
                },
                awsStep: {
                    background: 'linear-gradient(135deg, #FF9900 0%, #FF6600 100%)',
                    borderRadius: '12px',
                    padding: '20px 30px',
                    color: '#fff',
                    minWidth: '200px',
                    textAlign: 'center',
                    boxShadow: '0 10px 30px rgba(255, 153, 0, 0.3)',
                    cursor: 'pointer',
                    transition: 'all 0.3s ease',
                },
                dbStep: {
                    background: 'linear-gradient(135deg, #00d4aa 0%, #00a896 100%)',
                    borderRadius: '12px',
                    padding: '20px 30px',
                    color: '#fff',
                    minWidth: '200px',
                    textAlign: 'center',
                    boxShadow: '0 10px 30px rgba(0, 212, 170, 0.3)',
                    cursor: 'pointer',
                    transition: 'all 0.3s ease',
                },
                decision: {
                    background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
                    borderRadius: '12px',
                    padding: '20px',
                    transform: 'rotate(0deg)',
                    minWidth: '220px',
                },
                decisionInner: {
                    textAlign: 'center',
                },
                arrow: {
                    color: '#667eea',
                    fontSize: '24px',
                    fontWeight: 'bold',
                },
                arrowDown: {
                    textAlign: 'center',
                    color: '#667eea',
                    fontSize: '24px',
                },
                branchContainer: {
                    display: 'flex',
                    justifyContent: 'center',
                    gap: '100px',
                    position: 'relative',
                },
                branch: {
                    display: 'flex',
                    flexDirection: 'column',
                    alignItems: 'center',
                    gap: '10px',
                },
                branchLabel: {
                    color: '#64ffda',
                    fontWeight: '600',
                    fontSize: '14px',
                    padding: '5px 15px',
                    background: 'rgba(100, 255, 218, 0.1)',
                    borderRadius: '20px',
                },
                branchLabelNo: {
                    color: '#ff6b6b',
                    fontWeight: '600',
                    fontSize: '14px',
                    padding: '5px 15px',
                    background: 'rgba(255, 107, 107, 0.1)',
                    borderRadius: '20px',
                },
                subStep: {
                    background: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
                    borderRadius: '10px',
                    padding: '15px 25px',
                    color: '#fff',
                    minWidth: '180px',
                    textAlign: 'center',
                    fontSize: '14px',
                    fontWeight: '500',
                    boxShadow: '0 8px 25px rgba(79, 172, 254, 0.3)',
                },
                subStepAlt: {
                    background: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
                    boxShadow: '0 8px 25px rgba(250, 112, 154, 0.3)',
                },
                connector: {
                    width: '2px',
                    height: '30px',
                    background: 'linear-gradient(to bottom, #667eea, #764ba2)',
                    margin: '0 auto',
                },
                horizontalLine: {
                    position: 'absolute',
                    top: '15px',
                    left: '50%',
                    transform: 'translateX(-50%)',
                    width: '200px',
                    height: '2px',
                    background: '#667eea',
                },
                mergePoint: {
                    width: '20px',
                    height: '20px',
                    background: '#667eea',
                    borderRadius: '50%',
                    margin: '0 auto',
                },
                finalSteps: {
                    display: 'flex',
                    justifyContent: 'center',
                    gap: '20px',
                    flexWrap: 'wrap',
                    marginTop: '20px',
                },
                finalStep: {
                    background: 'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)',
                    borderRadius: '10px',
                    padding: '15px 20px',
                    color: '#fff',
                    textAlign: 'center',
                    boxShadow: '0 8px 25px rgba(17, 153, 142, 0.3)',
                    minWidth: '140px',
                },
                deployStep: {
                    background: 'linear-gradient(135deg, #ee0979 0%, #ff6a00 100%)',
                    borderRadius: '12px',
                    padding: '25px 40px',
                    color: '#fff',
                    textAlign: 'center',
                    boxShadow: '0 10px 30px rgba(238, 9, 121, 0.4)',
                    fontSize: '18px',
                    fontWeight: '700',
                },
                cognitoStep: {
                    background: 'linear-gradient(135deg, #FF9900 0%, #232F3E 100%)',
                    borderRadius: '12px',
                    padding: '25px 40px',
                    color: '#fff',
                    textAlign: 'center',
                    boxShadow: '0 10px 30px rgba(255, 153, 0, 0.4)',
                    fontSize: '16px',
                    fontWeight: '700',
                    border: '2px solid #FF9900',
                },
                completeStep: {
                    background: 'linear-gradient(135deg, #00b09b 0%, #96c93d 100%)',
                    borderRadius: '16px',
                    padding: '30px 50px',
                    color: '#fff',
                    textAlign: 'center',
                    boxShadow: '0 15px 40px rgba(0, 176, 155, 0.4)',
                    fontSize: '20px',
                    fontWeight: '700',
                },
                legend: {
                    display: 'flex',
                    justifyContent: 'center',
                    gap: '30px',
                    marginTop: '40px',
                    flexWrap: 'wrap',
                },
                legendItem: {
                    display: 'flex',
                    alignItems: 'center',
                    gap: '8px',
                    color: '#8892b0',
                    fontSize: '12px',
                },
                legendBox: {
                    width: '20px',
                    height: '20px',
                    borderRadius: '4px',
                },
                phaseLabel: {
                    color: '#64ffda',
                    fontSize: '12px',
                    fontWeight: '600',
                    textTransform: 'uppercase',
                    letterSpacing: '2px',
                    marginBottom: '10px',
                    textAlign: 'center',
                },
                divider: {
                    width: '80%',
                    height: '1px',
                    background: 'linear-gradient(to right, transparent, #667eea, transparent)',
                    margin: '30px auto',
                },
            };

            const Step = ({ number, title, desc, style = {}, isHovered, onHover }) => (
                <div 
                    style={{
                        ...styles.step, 
                        ...style,
                        ...(isHovered ? styles.stepHovered : {})
                    }}
                    onMouseEnter={() => onHover(number)}
                    onMouseLeave={() => onHover(null)}
                >
                    <div style={styles.stepNumber}>{number}</div>
                    <div style={styles.stepTitle}>{title}</div>
                    {desc && <div style={styles.stepDesc}>{desc}</div>}
                </div>
            );

            const Decision = ({ title, style = {} }) => (
                <div style={{...styles.decision, ...style}}>
                    <div style={styles.decisionInner}>
                        <div style={{fontSize: '20px', marginBottom: '5px'}}>‚óÜ</div>
                        <div style={{fontSize: '14px', fontWeight: '600'}}>{title}</div>
                    </div>
                </div>
            );

            return (
                <div style={styles.container}>
                    <h1 style={styles.title}>üöÄ Onboarding Flow</h1>
                    <p style={styles.subtitle}>User Journey: Magic Link ‚Üí Deployment ‚Üí Credentials</p>

                    <div style={styles.flowContainer}>

                        {/* Phase 1: Payment */}
                        <div style={styles.phaseLabel}>Phase 1: Payment</div>
                        
                        {/* Step 1: Magic Link Landing */}
                        <Step 
                            number="1" 
                            title="Magic Link Landing" 
                            desc="User arrives from email link"
                            isHovered={hoveredStep === "1"}
                            onHover={setHoveredStep}
                        />
                        
                        <div style={styles.arrowDown}>‚Üì</div>

                        {/* Step 2: Payment */}
                        <Step 
                            number="2" 
                            title="Payment" 
                            desc="Process payment (Stripe)"
                            isHovered={hoveredStep === "2"}
                            onHover={setHoveredStep}
                        />

                        <div style={styles.arrowDown}>‚Üì</div>

                        {/* Step 3: Tenant Record Created */}
                        <div style={styles.dbStep}>
                            <div style={styles.stepNumber}>3</div>
                            <div style={styles.stepTitle}>üóÑÔ∏è Tenant Record Created</div>
                            <div style={styles.stepDesc}>Database entry + Credits allocated</div>
                        </div>

                        <div style={styles.divider}></div>
                        
                        {/* Phase 2: Business Setup */}
                        <div style={styles.phaseLabel}>Phase 2: Business Setup</div>

                        {/* Decision 1: Have Company? */}
                        <Decision title="Do you have a company?" />

                        <div style={styles.branchContainer}>
                            <div style={styles.branch}>
                                <div style={styles.branchLabel}>‚úì YES</div>
                                <div style={styles.subStep}>Enter Company Name</div>
                            </div>
                            <div style={styles.branch}>
                                <div style={styles.branchLabelNo}>‚úó NO</div>
                                <div style={{...styles.subStep, ...styles.subStepAlt}}>
                                    Enter Name<br/>
                                    <span style={{fontSize: '11px', opacity: 0.9}}>‚Üí ABN Lookup</span>
                                </div>
                            </div>
                        </div>

                        <div style={styles.connector}></div>
                        <div style={styles.mergePoint}></div>
                        <div style={styles.arrowDown}>‚Üì</div>

                        {/* Decision 2: Own Domain? */}
                        <Decision title="Do you own a domain?" />

                        <div style={styles.branchContainer}>
                            <div style={styles.branch}>
                                <div style={styles.branchLabel}>‚úì YES</div>
                                <div style={styles.subStep}>
                                    Connect Domain<br/>
                                    <span style={{fontSize: '11px'}}>Google Workspace</span>
                                </div>
                            </div>
                            <div style={styles.branch}>
                                <div style={styles.branchLabelNo}>‚úó NO</div>
                                <div style={{...styles.subStep, ...styles.subStepAlt}}>
                                    Search Availability<br/>
                                    <span style={{fontSize: '11px'}}>(based on business name)</span>
                                </div>
                                <div style={styles.arrowDown}>‚Üì</div>
                                <div style={{...styles.subStep, background: 'linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)'}}>
                                    Purchase Domain<br/>
                                    <span style={{fontSize: '11px'}}>Google/Microsoft</span>
                                </div>
                            </div>
                        </div>

                        <div style={styles.connector}></div>
                        <div style={styles.mergePoint}></div>
                        <div style={styles.arrowDown}>‚Üì</div>

                        {/* Step 4: Workspace Connection */}
                        <Step 
                            number="4" 
                            title="Workspace Connection" 
                            desc="Connect domain with workspace"
                            isHovered={hoveredStep === "4"}
                            onHover={setHoveredStep}
                        />

                        <div style={styles.divider}></div>

                        {/* Phase 3: Integration & Branding */}
                        <div style={styles.phaseLabel}>Phase 3: Integration & Branding</div>

                        {/* Final Steps Row */}
                        <div style={styles.finalSteps}>
                            <div style={styles.finalStep}>
                                <div style={{fontSize: '20px', marginBottom: '5px'}}>üìû</div>
                                <div style={{fontWeight: '600'}}>5. Twilio</div>
                                <div style={{fontSize: '11px', opacity: 0.9}}>Integration</div>
                            </div>
                            <div style={styles.arrow}>‚Üí</div>
                            <div style={styles.finalStep}>
                                <div style={{fontSize: '20px', marginBottom: '5px'}}>üé®</div>
                                <div style={{fontWeight: '600'}}>6. Branding</div>
                                <div style={{fontSize: '11px', opacity: 0.9}}>Logo, Colors</div>
                            </div>
                            <div style={styles.arrow}>‚Üí</div>
                            <div style={styles.finalStep}>
                                <div style={{fontSize: '20px', marginBottom: '5px'}}>üåê</div>
                                <div style={{fontWeight: '600'}}>7. Website</div>
                                <div style={{fontSize: '11px', opacity: 0.9}}>Generation</div>
                            </div>
                        </div>

                        <div style={styles.divider}></div>

                        {/* Phase 4: Deployment & Credentials */}
                        <div style={styles.phaseLabel}>Phase 4: Deployment & Credentials</div>

                        {/* Step 8: Deploy */}
                        <div style={styles.deployStep}>
                            üöÄ 8. DEPLOY TO DOMAIN
                        </div>

                        <div style={styles.arrowDown}>‚Üì</div>

                        {/* Step 9: AWS Cognito */}
                        <div style={styles.cognitoStep}>
                            <div style={{fontSize: '24px', marginBottom: '8px'}}>üîê</div>
                            <div>9. User Credentials Generated</div>
                            <div style={{fontSize: '12px', opacity: 0.9, marginTop: '5px'}}>
                                AWS Cognito ‚Ä¢ Email with login details sent
                            </div>
                        </div>

                        <div style={styles.arrowDown}>‚Üì</div>

                        {/* Complete */}
                        <div style={styles.completeStep}>
                            ‚úÖ ONBOARDING COMPLETE
                            <div style={{fontSize: '12px', fontWeight: '400', marginTop: '8px'}}>
                                User can now login to their dashboard
                            </div>
                        </div>
                    </div>

                    {/* Legend */}
                    <div style={styles.legend}>
                        <div style={styles.legendItem}>
                            <div style={{...styles.legendBox, background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'}}></div>
                            Main Steps
                        </div>
                        <div style={styles.legendItem}>
                            <div style={{...styles.legendBox, background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)'}}></div>
                            Decision Points
                        </div>
                        <div style={styles.legendItem}>
                            <div style={{...styles.legendBox, background: 'linear-gradient(135deg, #00d4aa 0%, #00a896 100%)'}}></div>
                            Database
                        </div>
                        <div style={styles.legendItem}>
                            <div style={{...styles.legendBox, background: 'linear-gradient(135deg, #FF9900 0%, #232F3E 100%)'}}></div>
                            AWS Services
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<OnboardingFlow />, document.getElementById('root'));
    </script>
</body>
</html>